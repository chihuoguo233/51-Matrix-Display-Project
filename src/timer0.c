#include <REGX51.H>



void Timer_Init(void)
{	
	//同时配置定时器0.1
	TMOD=0x21;
	//配置串口
	PCON &= 0x7F;		//波特率不倍速 4800
	SCON = 0x50;		//8位数据,可变波特率.可以写入
	TL1 = 0xFD;			//设置定时初始值
	TH1 = 0xFD;			//设置定时重载值
	ET1 = 0;			//禁止定时器中断
	TR1 = 1;			//定时器1开始计时
	ES=1;
	EA=1;				//这三条都是打开中断
	PS=0;


	//配置定时器0
	TR0=1;		//TR0给1，开始计数
	TF0=0;		//TF0=0，记满溢出的信号，初始化先给0，不然就发给中断了
	TL0 = 0x66;				//设置定时初始值
	TH0 = 0xFC;				//设置定时初始值
	ET0=1;      //打开定时器0的那条通路
//	EA=1;		//打开使能端，总通路
	PT0=1;		//反正就一个中断，设不设置都一样

}




