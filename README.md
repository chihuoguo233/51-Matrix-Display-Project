# 51-Matrix-Display-Project
我得51学习代码库
2026.1.10
# 4*4led点阵屏显示动画
## 项目描述
尝试用51单片机实现一个基于4*4led点阵屏的动画显示。
## 当前进度
- [√] 显示动画
- [√] 状态机逻辑
- [√]将delay换成定时器，避免程序阻塞
## 遇到的问题
（基本框架已搭建，后续需要添加串口通信，或者别的功能）

# 51-Matrix-Display-Project
我得51学习代码库
2026.1.14
# 4*4led点阵屏显示动画
## 项目描述
尝试用51单片机实现一个串口控制4*4led点阵屏的动画显示。
## 当前进度
- [√] 显示动画，动画可切换可变化
- [√] 状态机逻辑
- [√] 非阻塞设计
- [√] 事件与状态分离
- [√] 串口双向通信
- [√] 函数通用化与模块化，可拓展
- [√] 数据分区存储
## 遇到的问题和解决办法
1.存储数据溢出了——分区存储，由于编译器限制，没有idata区，就放在了code和xdata区
2.串口发送1.2.3后，单片机接收不到——串口发送的是字符，要带单引号，比如'1'。如果只接收数字1，要按照ASCII码转化滴，转化过来就不对了
3.最初用if(TI==1)TI=0,来把发送中断请求标志位清零，但是会出现发送失真——用while(!TI)就行了，看起来会阻塞，但实际时间非常短，就这么写
4.接收串口指令后，会反复向电脑发送串口数据——接收指令后设置一个对应的状态，并只向电脑发一次数据显示当前状态，让指令（事件）和状态分离
5.LED点阵扫描会出现高位第一列上电闪烁现象——上电先初始化，在点阵扫描函数执行前，把led阳极清零，并且在执行“行选列选”的循环中，清零行选，用_nop()_留了IO口电平变化时间
6.纠结不同动画显示要怎么解决——他奶奶的直接模块化，只用改显示动画的数组，函数逻辑不用改，方便快捷，函数通用，后面的串口发送字符的函数也是一样的逻辑
## 未来的计划
（基本框架已搭建，后续会基于现有条件，添加蓝牙/红外模块，或者语音识别功能，动画待机动画会采用PWM呼吸灯显示，不会用delay，语句也会优化，会尝试添加指针的使用）
